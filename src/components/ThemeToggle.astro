<button
  id="theme-toggle"
  aria-label="Cambiar tema"
  class="fixed bottom-6 right-6 z-50 rounded-full p-3
         bg-slate-900 text-white shadow-lg
         hover:bg-slate-700 active:scale-95
         transition-all duration-200
         dark:bg-white dark:text-slate-900
         dark:hover:bg-slate-200
         focus:outline-none focus:ring-2
         focus:ring-slate-400 dark:focus:ring-slate-600"
>
  <span id="theme-icon" class="block text-lg leading-none">ðŸŒ™</span>
</button>

<script is:inline>
  window.addEventListener('DOMContentLoaded', () => {
    const html = document.documentElement;
    const button = document.getElementById('theme-toggle');
    const icon = document.getElementById('theme-icon');

    if (!button || !icon) return;

    const updateIcon = () => {
      icon.textContent = html.classList.contains('dark') ? 'â˜€ï¸' : 'ðŸŒ™';
    };

    updateIcon();

    button.addEventListener('click', () => {
      html.classList.toggle('dark');
      const isDark = html.classList.contains('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      updateIcon();
    });
  });
</script>
